# AWS Builder ID è‡ªåŠ¨æ³¨å†Œæ¨¡å—

åŸºäº Selenium å®ç°çš„ AWS Builder ID è‡ªåŠ¨æ³¨å†ŒåŠŸèƒ½æ¨¡å—ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼ŒèŒè´£åˆ†ç¦»ï¼Œä»£ç æ¸…æ™°æ˜“ç»´æŠ¤ã€‚

## ğŸ¯ åŠŸèƒ½ç‰¹æ€§

### æ¨¡å—åŒ–è®¾è®¡
- **èŒè´£åˆ†ç¦»**: æ¯ä¸ªæ¨¡å—è´Ÿè´£ç‰¹å®šåŠŸèƒ½ï¼Œé™ä½è€¦åˆåº¦
- **ä»£ç å¤ç”¨**: ç»„ä»¶å¯ç‹¬ç«‹ä½¿ç”¨å’Œæµ‹è¯•
- **æ˜“äºç»´æŠ¤**: ä¿®æ”¹æŸä¸ªåŠŸèƒ½ä¸å½±å“å…¶ä»–æ¨¡å—
- **æ‰©å±•æ€§å¼º**: å¯è½»æ¾æ·»åŠ æ–°åŠŸèƒ½æˆ–æ›¿æ¢ç»„ä»¶

### æ ¸å¿ƒç»„ä»¶

| ç»„ä»¶ | æ–‡ä»¶ | èŒè´£ |
|------|------|------|
| **é…ç½®ç®¡ç†** | `config.py` | é›†ä¸­ç®¡ç†æ‰€æœ‰é…ç½®é¡¹ |
| **æµè§ˆå™¨ç®¡ç†** | `browser_manager.py` | æµè§ˆå™¨åˆå§‹åŒ–å’Œé…ç½® |
| **å…ƒç´ ç­‰å¾…** | `element_waiter.py` | é¡µé¢å…ƒç´ ç­‰å¾…å’ŒæŸ¥æ‰¾ |
| **è¡¨å•å¤„ç†** | `form_handler.py` | è¡¨å•å¡«å†™é€»è¾‘ |
| **éªŒè¯ç å¤„ç†** | `captcha_handler.py` | å›¾å½¢å’Œé‚®ç®±éªŒè¯ç å¤„ç† |
| **æ³¨å†Œæ£€æŸ¥** | `registration_checker.py` | æ³¨å†ŒçŠ¶æ€éªŒè¯ |
| **é€‰æ‹©å™¨é…ç½®** | `optimized_selectors.py` | é¡µé¢å…ƒç´ é€‰æ‹©å™¨ |
| **ä¸»æ§åˆ¶å™¨** | `aws_builder.py` | ä¸»è¦ä¸šåŠ¡é€»è¾‘åè°ƒ |

## ğŸš€ åŠŸèƒ½ç‰¹æ€§

- âœ… **è‡ªåŠ¨å¡«å†™æ³¨å†Œè¡¨å•** - æ™ºèƒ½è¡¨å•è¯†åˆ«å’Œå¡«å†™
- âœ… **é‚®ç®±éªŒè¯å¤„ç†** - æ”¯æŒæ‰‹åŠ¨è¾“å…¥å’Œè‡ªåŠ¨è·å–éªŒè¯ç 
- âœ… **å›¾å½¢éªŒè¯ç å¤„ç†** - æ™ºèƒ½æ£€æµ‹å’Œæ‰‹åŠ¨è¾“å…¥æ”¯æŒ
- âœ… **ä¼šè¯ç®¡ç†** - ä¿æŒç™»å½•çŠ¶æ€ï¼Œæ”¯æŒé¡µé¢å¯¼èˆª
- âœ… **å¯†ç ç”Ÿæˆ** - è‡ªåŠ¨ç”Ÿæˆç¬¦åˆè¦æ±‚çš„å®‰å…¨å¯†ç 
- âœ… **å¤šé‡é€‰æ‹©å™¨** - æé«˜å…ƒç´ æŸ¥æ‰¾æˆåŠŸç‡
- âœ… **æ™ºèƒ½é‡è¯•** - è‡ªåŠ¨é‡è¯•æœºåˆ¶ï¼Œæé«˜æˆåŠŸç‡
- âœ… **åŠ¨æ€ç­‰å¾…** - æ™ºèƒ½ç­‰å¾…é¡µé¢å˜åŒ–ï¼Œæ— ç¡¬ç¼–ç å»¶æ—¶
- âœ… **è¯¦ç»†æ—¥å¿—** - å®Œæ•´çš„æ“ä½œæ—¥å¿—è®°å½•
- âœ… **é”™è¯¯å¤„ç†** - å®Œå–„çš„å¼‚å¸¸å¤„ç†æœºåˆ¶

## ğŸ“¦ å®‰è£…ä¾èµ–

```bash
uv add selenium webdriver-manager
```

## ğŸ® å¿«é€Ÿä½¿ç”¨

### åŸºç¡€æ³¨å†Œ

```python
from auto_update_q.aws_builder import AWSBuilder

# ä½¿ç”¨ä¸Šä¸‹æ–‡ç®¡ç†å™¨ï¼ˆæ¨èï¼‰
with AWSBuilder(headless=False, debug=True) as aws_builder:
    credentials = aws_builder.register_aws_builder(
        email="your-email@example.com",
        name="Your Name"
    )
    
    if credentials:
        print(f"æ³¨å†ŒæˆåŠŸï¼é‚®ç®±: {credentials.email}")
        print(f"å¯†ç : {credentials.password}")
    else:
        print("æ³¨å†Œå¤±è´¥")
```

### é›†æˆä¸´æ—¶é‚®ç®±

```python
from auto_update_q.aws_builder import AWSBuilder
from auto_update_q.temp_mail import DropMail

# åˆ›å»ºä¸´æ—¶é‚®ç®±
dropmail = DropMail()
temp_email = dropmail.get_temp_email()

# ä½¿ç”¨ä¸´æ—¶é‚®ç®±æ³¨å†Œï¼ˆè‡ªåŠ¨è·å–éªŒè¯ç ï¼‰
with AWSBuilder() as aws_builder:
    credentials = aws_builder.register_aws_builder(
        email=temp_email,
        name="Test User",
        dropmail=dropmail  # è‡ªåŠ¨è·å–é‚®ç®±éªŒè¯ç 
    )
```

### è‡ªå®šä¹‰é…ç½®

```python
with AWSBuilder(
    headless=False,      # æ˜¾ç¤ºæµè§ˆå™¨ç•Œé¢
    timeout=60,          # è¶…æ—¶æ—¶é—´
    debug=True,          # å¯ç”¨è°ƒè¯•æ—¥å¿—
    keep_browser=True    # ä¿æŒæµè§ˆå™¨æ‰“å¼€
) as aws_builder:
    credentials = aws_builder.register_aws_builder(
        email="test@example.com",
        name="Test User",
        password="CustomPassword123!"  # è‡ªå®šä¹‰å¯†ç 
    )
```

## ğŸ—ï¸ æ¶æ„è®¾è®¡

### ç»„ä»¶å…³ç³»å›¾

```
AWSBuilder (ä¸»æ§åˆ¶å™¨)
â”œâ”€â”€ BrowserManager (æµè§ˆå™¨ç®¡ç†)
â”œâ”€â”€ ElementWaiter (å…ƒç´ ç­‰å¾…)
â”œâ”€â”€ FormHandler (è¡¨å•å¤„ç†)
â”‚   â””â”€â”€ ElementWaiter
â”œâ”€â”€ CaptchaHandler (éªŒè¯ç å¤„ç†)
â”‚   â””â”€â”€ ElementWaiter
â”œâ”€â”€ RegistrationChecker (çŠ¶æ€æ£€æŸ¥)
â”‚   â””â”€â”€ ElementWaiter
â””â”€â”€ Config (é…ç½®ç®¡ç†)
```

### æ•°æ®æµ

```
1. åˆå§‹åŒ–ç»„ä»¶ â†’ 2. è®¾ç½®æµè§ˆå™¨ â†’ 3. å¯¼èˆªé¡µé¢
                                      â†“
8. è¿”å›å‡­è¯ â† 7. æ£€æŸ¥çŠ¶æ€ â† 6. å¤„ç†éªŒè¯ç  â† 4. å¡«å†™è¡¨å•
                                      â†“
                                  5. é‚®ç®±éªŒè¯
```

## ğŸ”§ é…ç½®è¯´æ˜

### æµè§ˆå™¨é…ç½® (`config.py`)

```python
BROWSER_OPTIONS = {
    "headless_args": [...],      # æ— å¤´æ¨¡å¼å‚æ•°
    "common_args": [...],        # é€šç”¨å‚æ•°
    "experimental_options": {...} # å®éªŒæ€§é€‰é¡¹
}
```

### é€‰æ‹©å™¨é…ç½® (`optimized_selectors.py`)

```python
OPTIMIZED_SELECTORS = {
    "email_input": [...],        # é‚®ç®±è¾“å…¥æ¡†é€‰æ‹©å™¨
    "name_input": [...],         # å§“åè¾“å…¥æ¡†é€‰æ‹©å™¨
    "password_input": [...],     # å¯†ç è¾“å…¥æ¡†é€‰æ‹©å™¨
    # ... æ›´å¤šé€‰æ‹©å™¨
}
```

### è¶…æ—¶å’Œé‡è¯•é…ç½®

```python
TIMEOUT_CONFIG = {
    "email_input": 15,           # é‚®ç®±è¾“å…¥è¶…æ—¶
    "default": 10,               # é»˜è®¤è¶…æ—¶
}

RETRY_CONFIG = {
    "email_input": {
        "max_rounds": 3,         # æœ€å¤§é‡è¯•è½®æ•°
        "timeout": 5             # æ¯è½®è¶…æ—¶
    }
}
```

## ğŸ§ª æµ‹è¯•å’Œæ¼”ç¤º

### è¿è¡Œæ¼”ç¤º

```bash
# è¿è¡Œæ¼”ç¤º
uv run python src/auto_update_q/aws_builder/demo.py
```

### å•å…ƒæµ‹è¯•

```bash
# æµ‹è¯•å„ä¸ªç»„ä»¶
uv run python test/test_aws_builder_refactored.py
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **æµè§ˆå™¨å¯åŠ¨å¤±è´¥**
   - æ£€æŸ¥ Edge æµè§ˆå™¨æ˜¯å¦å·²å®‰è£…
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - å°è¯•æ‰‹åŠ¨ä¸‹è½½ EdgeDriver

2. **å…ƒç´ æŸ¥æ‰¾å¤±è´¥**
   - æ£€æŸ¥é€‰æ‹©å™¨é…ç½®æ˜¯å¦æœ€æ–°
   - å¯ç”¨è°ƒè¯•æ¨¡å¼æŸ¥çœ‹è¯¦ç»†æ—¥å¿—
   - æ›´æ–°é€‰æ‹©å™¨é…ç½®

3. **éªŒè¯ç å¤„ç†å¤±è´¥**
   - ç¡®ä¿åœ¨æœ‰ç•Œé¢æ¨¡å¼ä¸‹è¿è¡Œ
   - æ£€æŸ¥éªŒè¯ç è¾“å…¥æ˜¯å¦æ­£ç¡®
   - æŸ¥çœ‹æ—¥å¿—äº†è§£å…·ä½“é”™è¯¯

### è°ƒè¯•æŠ€å·§

```python
# å¯ç”¨è¯¦ç»†æ—¥å¿—
with AWSBuilder(debug=True) as aws_builder:
    # ... æ³¨å†Œé€»è¾‘

# ä¿æŒæµè§ˆå™¨æ‰“å¼€è¿›è¡Œè°ƒè¯•
with AWSBuilder(keep_browser=True) as aws_builder:
    # ... æ³¨å†Œé€»è¾‘
    input("æŒ‰å›è½¦å…³é—­æµè§ˆå™¨...")
```

## ğŸ› ï¸ æ‰©å±•å¼€å‘

### æ·»åŠ æ–°çš„è¡¨å•å­—æ®µ

1. åœ¨ `optimized_selectors.py` ä¸­æ·»åŠ é€‰æ‹©å™¨
2. åœ¨ `form_handler.py` ä¸­æ·»åŠ å¤„ç†æ–¹æ³•
3. åœ¨ä¸»æµç¨‹ä¸­è°ƒç”¨æ–°æ–¹æ³•

### æ·»åŠ æ–°çš„éªŒè¯ç ç±»å‹

1. åœ¨ `captcha_handler.py` ä¸­æ·»åŠ å¤„ç†æ–¹æ³•
2. æ›´æ–°ä¸»æµç¨‹è°ƒç”¨é€»è¾‘

### è‡ªå®šä¹‰æµè§ˆå™¨é…ç½®

1. ä¿®æ”¹ `config.py` ä¸­çš„é…ç½®
2. æˆ–åœ¨åˆå§‹åŒ–æ—¶ä¼ å…¥è‡ªå®šä¹‰å‚æ•°

## ğŸ‰ æ ¸å¿ƒä¼˜åŠ¿

é€šè¿‡æ¨¡å—åŒ–è®¾è®¡ï¼Œæˆ‘ä»¬å®ç°äº†ï¼š

1. **ä»£ç æ¸…æ™°**: èŒè´£åˆ†ç¦»ï¼Œé€»è¾‘æ¸…æ™°
2. **æ˜“äºç»´æŠ¤**: æ¨¡å—åŒ–ä¾¿äºä¿®æ”¹å’Œæ‰©å±•
3. **é«˜å¯æµ‹è¯•æ€§**: æ¯ä¸ªç»„ä»¶éƒ½å¯ä»¥ç‹¬ç«‹æµ‹è¯•
4. **æ™ºèƒ½ç­‰å¾…**: åŠ¨æ€ç­‰å¾…æœºåˆ¶ï¼Œæ— ç¡¬ç¼–ç å»¶æ—¶
5. **å¼ºæ‰©å±•æ€§**: ä¸ºæœªæ¥åŠŸèƒ½æ‰©å±•å¥ å®šåŸºç¡€

æ¨¡å—åŒ–çš„è®¾è®¡ä½¿å¾—ä»£ç æ›´åŠ æ¸…æ™°ã€å¯ç»´æŠ¤ï¼ŒåŒæ—¶ä¹Ÿä¸ºå›¢é˜Ÿåä½œå’ŒåŠŸèƒ½æ‰©å±•æä¾›äº†ä¾¿åˆ©ã€‚
